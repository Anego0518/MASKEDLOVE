# 加工フェーズ 4段階仕様変更（更新版）

## ユーザー反映事項

- **段階ラベル**: 数字のみ（1 / 2 / 3 / 4）。「加工なし」などの文言は表示しない。
- **デフォルト**: 全項目を段階1（加工なし）で正解。
- **段階別画像**: 男女それぞれ **3キャラ** 分のパターンを用意する予定。
  - 男性1～3: 各キャラごとに加工段階1～4の画像（計12枚）
  - 女性1～3: 各キャラごとに加工段階1～4の画像（計12枚）
- **仮素材**: 実画像は後で同じ名前で差し替える想定のため、**ひとまず仮素材が表示される**ようにする（読み込み失敗時は既存の player-male.png / player-female.png にフォールバック）。

---

## 画像のファイル名規則

| 種別 | 命名例 | 説明 |
|------|--------|------|
| 男性キャラ1 | `player-male-1-1.png` ～ `player-male-1-4.png` | キャラ1の加工段階1～4 |
| 男性キャラ2 | `player-male-2-1.png` ～ `player-male-2-4.png` | キャラ2の加工段階1～4 |
| 男性キャラ3 | `player-male-3-1.png` ～ `player-male-3-4.png` | キャラ3の加工段階1～4 |
| 女性キャラ1 | `player-female-1-1.png` ～ `player-female-1-4.png` | 同上 |
| 女性キャラ2 | `player-female-2-1.png` ～ `player-female-2-4.png` | 同上 |
| 女性キャラ3 | `player-female-3-1.png` ～ `player-female-3-4.png` | 同上 |

- 配置場所: `images/`
- 初回実装時は **キャラ番号1** のみ使用（`player-male-1-{1～4}.png`, `player-female-1-{1～4}.png`）。キャラ2・3は後でstateや選択UIを足して対応可能。
- ファイルが無い場合は `player-male.png` / `player-female.png` にフォールバックし、仮素材として表示。

---

## 実装内容（変更点のみ）

1. **状態**: `editParams` を `{ beautyLevel, editLevel, effectLevel }`（各1～4）、デフォルトはすべて 1。
2. **UI**: スライダー廃止。3行（美肌 / 加工 / エフェクト）× 4ボタン（1, 2, 3, 4）。ラベルは数字のみ。
3. **美肌**: 段階1～4で brightness のみ変更（例: 1=1.0, 2=1.1, 3=1.2, 4=1.3）。
4. **加工**: 表示画像を `images/player-{gender}-1-{editLevel}.png` で切替（キャラは1固定）。onerror で `player-{gender}.png` にフォールバック。
5. **エフェクト**: 段階2～4でキラキラ用クラスを付与し、CSSで強さを変更（段階1はなし）。
6. **マッチングスコア**: レベル1～4を 0～100 にマッピングして `editScore` を算出（3項目で互換を維持）。

この内容で実装を進める。
